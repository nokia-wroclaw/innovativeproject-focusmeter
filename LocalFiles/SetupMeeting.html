<!DOCTYPE html>
<!--
*Panel For Creating and Setting up the new Meeting in Focus Meter System
*author: Maciej Baj

-->
<html>
	<head>
		<meta name="viewport" content="width=320, user-scalable=no">
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>Focus Meter</title>
        <link rel="stylesheet" href="./css/bootstrap.css" type="text/css">
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" type="text/css" media="screen" title="no title">
        <link rel="stylesheet" href="./js/jquery.ptTimeSelect.css" type="text/css" media="screen" title="no title">

        <script src="./js/jquery-1.8.2.js"></script>
        <script src="./js/jquery-ui-1.8.20.js"></script>
        <script src="./js/jquery.ptTimeSelect.js"></script>
		<script type="text/javascript">
            
            function goBackToStartScreen() {
                window.location = './index.html';
            }
		
            $(document).ready(function () {
                var options = {
                    pattern: 'dd mm yyyy', // Default is 'mm/yyyy' and separator char is not mandatory
                    startYear: 2000,
                    finalYear: 2099,
                    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
                };

                $('#datepicker').datepicker();
               
                $('#startHour').ptTimeSelect();

                $('#endHour').ptTimeSelect();

                $(".btn-success").click(function(){
                    var date = $("#datepicker").val();

                    var title = $("#title").val();

                    var startHour = $("#startHour").val();

                    var endHour = $("#endHour").val();

                    var mac = "12-32-43-54-65-76";

                    $.ajax({
                        type: "POST",
                        url: "http://localhost:3000/addMeeting",
                        data: {
                            "date": date,
                            "title": title,
                            "startHour": startHour,
                            "endHour": endHour,
                            "mac": mac
                        },
                        processData: true,
                        success: function(data) {
                            alert("Utworzono spotkanie! Kod spotkania: " + data.meetingCode);
                            $("#code_1").val(data.meetingCode.charAt(0));
                            $("#code_2").val(data.meetingCode.charAt(1));
                            $("#code_3").val(data.meetingCode.charAt(2));
                            $("#code_4").val(data.meetingCode.charAt(3));
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                            alert("Error, status: " + textStatus + ", errorThrown: " + errorThrown);
                        } 
                    });
                });
            });

           
			
		</script>
	</head>
	<body>
        <div id="screen">
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-3">
                    <div class="jumbotron">
                        <h1>Focus Meter</h1>
                        <p>Create new meeting</p>
                    </div>


                    <br />
                    <fieldset>
                        <h2 style="color: whitesmoke; text-align: center; font-style: italic; font-size: x-large">Your presentation code:</h2>

                        <br />

                        <!--<input class="input form-control" type="text" name="meeting_code">-->
                        <div style="align-content: center">
                            <input class="input enter-code-field" maxlength="1" readonly type="text" id="code_1">
                            <input class="input enter-code-field" maxlength="1" readonly type="text" id="code_2">
                            <input class="input enter-code-field" maxlength="1" readonly type="text" id="code_3">
                            <input class="input enter-code-field" maxlength="1" readonly type="text" id="code_4">
                        </div>
                        <br />
                        <table>
                            <tbody>
                                <tr>
                                    
                                    <td><label style="color: whitesmoke">Title:</label>
                                        <input class="input-lg" type="text" id="title" style="text-align: center" value="Your presentation name" /></td>
                                </tr>
                                <tr>
                                    
                                    <td><label style="color: whitesmoke">Date:</label>
                                        <input class="input-lg" type="text" id="datepicker" autocomplete="off" name="Date" /></td>
                                </tr>
                                <tr>
                                    <td><label style="color: whitesmoke; text-align: center">Start hour to End hour:</label>
                                     <br />
                                        <input class="input-sm" type="text" id="startHour" autocomplete="off" name="Hour" />
                               
                                   
                                        <input class="input-sm" type="text" id="endHour" autocomplete="off" name="Hour" /> </td>
                                </tr>
                            </tbody>
                        </table>
                    </fieldset>
                    <br />
                    <input type="button" class="btn btn-lg btn-success btn-block"  value="CREATE" />
                    <br />
                    <input type="submit" class="btn btn-lg btn-warning btn-block" onclick="goBackToStartScreen()" value="CANCEL" />

                         </div>

            </div>

           
                
             
              
</div>
	</body>
</html>
